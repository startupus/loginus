# Отключение старого i18n API

## Выполненные изменения

### 1. ✅ Переключение на интегрированную конфигурацию
**Файл:** `frontend/src/services/i18n/index.ts`
- Изменен экспорт с `./config` на `./config-integrated`
- Теперь используется конфигурация с поддержкой v2 системы

### 2. ✅ Установка динамического режима по умолчанию
**Файл:** `frontend/src/services/i18n/v2/config.ts`
- Изменен дефолтный режим с `'static'` на `'dynamic'`
- Теперь по умолчанию используется только API v2 без статических файлов

### 3. ✅ Отключение загрузки статических ресурсов в динамическом режиме
**Файл:** `frontend/src/services/i18n/config-integrated.ts`
- В чистом динамическом режиме (`dynamic`) статические ресурсы не загружаются
- Статические файлы загружаются только в режимах `static` и `hybrid`

### 4. ✅ Обновление загрузки модулей
- Критичные модули загружаются через v2 API в динамическом режиме
- Profile модуль также загружается через v2 в динамическом режиме

## Результат

✅ Старое статическое API отключено по умолчанию  
✅ Используется только динамическое API v2  
✅ Статические файлы не загружаются в динамическом режиме  
✅ Все модули загружаются через `/api/v2/translations`

## Режимы работы

- **`dynamic`** (по умолчанию) - только API v2, без статических файлов
- **`hybrid`** - API v2 → кэш → статические файлы (fallback)
- **`static`** - только статические файлы (старое поведение)

## Переключение режимов

Можно переключить через переменную окружения:
```bash
# В .env.local или при запуске
VITE_I18N_MODE=dynamic  # только API v2
VITE_I18N_MODE=hybrid   # API v2 с fallback на статику
VITE_I18N_MODE=static   # только статика (старое поведение)
```

## Проверка

После перезапуска фронтенда:
1. Откройте DevTools → Network
2. Проверьте запросы к `/api/v2/translations/...`
3. Убедитесь, что статические JSON файлы не загружаются
4. Проверьте консоль на наличие логов `[i18n-v2]`

