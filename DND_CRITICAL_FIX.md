# üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï DND!

## ‚ùå **–ë–´–õ–ê –ü–†–û–ë–õ–ï–ú–ê:**

```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –°—á–∏—Ç–∞–ª–∏ offset –æ—Ç –ª–µ–≤–æ–≥–æ –∫—Ä–∞—è –¶–ï–õ–ï–í–û–ì–û —ç–ª–µ–º–µ–Ω—Ç–∞
const horizontalOffset = activeCenterX - overLeft;
// –≠—Ç–æ –í–°–ï–ì–î–ê –±—ã–ª–æ > 60px –ø—Ä–∏ –ª—é–±–æ–º –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏!
```

## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û:**

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –°—á–∏—Ç–∞–µ–º –°–î–í–ò–ì –æ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞
const dragStartX = activeRect.left;  // –ü—Ä–∏ –Ω–∞—á–∞–ª–µ drag
const horizontalDelta = currentX - dragStartX;  // –°–¥–≤–∏–≥ –æ—Ç –Ω–∞—á–∞–ª–∞

// –¢–µ–ø–µ—Ä—å:
// horizontalDelta = 0    ‚Üí –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ (–Ω–µ—Ç —Å–¥–≤–∏–≥–∞)
// horizontalDelta > 40px ‚Üí –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–¥–≤–∏–≥ (–≤–ª–æ–∂–∏—Ç—å)
```

---

## üìê **–ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê:**

### 1. **–ü—Ä–∏ –Ω–∞—á–∞–ª–µ drag (handleDragStart)**
```typescript
setDragStartX(activeRect.left);  // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é X –ø–æ–∑–∏—Ü–∏—é
```

### 2. **–í–æ –≤—Ä–µ–º—è drag (handleDragOver)**
```typescript
const horizontalDelta = currentX - dragStartX;  // –°–¥–≤–∏–≥ –æ—Ç –Ω–∞—á–∞–ª–∞

if (horizontalDelta > 40) {
  ‚Üí NEST INSIDE (—Ç–∞—â–∏–ª–∏ –í–ü–†–ê–í–û –æ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏)
} else {
  ‚Üí BEFORE/AFTER (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ, –Ω–µ—Ç —Å–¥–≤–∏–≥–∞)
}
```

---

## üéÆ **–ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –°–ï–ô–ß–ê–°:**

### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ (‚Üë‚Üì) - –ë–ï–ó —Å–¥–≤–∏–≥–∞ –≤–ø—Ä–∞–≤–æ
```
Start X: 100px
Current X: 102px
horizontalDelta: 2px  ‚Üê < 40px = –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–∏–Ω–∏—é before/after
```

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ (‚Üí) - –°–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ
```
Start X: 100px
Current X: 150px
horizontalDelta: 50px  ‚Üê > 40px = –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ–º ring + –æ—Ç—Å—Ç—É–ø (inside)
```

---

## üîç **CONSOLE LOGS:**

–¢–µ–ø–µ—Ä—å –≤ –∫–æ–Ω—Å–æ–ª–∏ —É–≤–∏–¥–∏—Ç–µ:
```javascript
[DnD] Position: {
  horizontalDelta: '5px',     ‚Üê –°–î–í–ò–ì –æ—Ç –Ω–∞—á–∞–ª–∞ (< 40 = –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ)
  verticalOffset: '-30px',
  currentX: '105',
  dragStartX: '100'
}
```

**–ï—Å–ª–∏ `horizontalDelta > 40px` ‚Üí inside**  
**–ï—Å–ª–∏ `horizontalDelta < 40px` ‚Üí before/after**

---

## üß™ **–¢–ï–°–¢–ò–†–£–ô–¢–ï –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°:**

```
http://localhost:3000/ru/admin/menu-settings
```

### 1. **Hard Refresh:**
```
Ctrl + Shift + R
```

### 2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å:**
```
F12 ‚Üí Console
```

### 3. **–¢–µ—Å—Ç –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ:**
- –í–æ–∑—å–º–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç
- –¢–∞—â–∏—Ç–µ **–°–¢–†–û–ì–û –í–í–ï–†–•/–í–ù–ò–ó** (–¥–µ—Ä–∂–∏—Ç–µ –º—ã—à—å –Ω–∞ –æ–¥–Ω–æ–π –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏)
- –í –∫–æ–Ω—Å–æ–ª–∏: `horizontalDelta: '3px'` (< 40)
- –í–∏–¥–∏—Ç–µ **–ª–∏–Ω–∏—é** —Å–≤–µ—Ä—Ö—É/—Å–Ω–∏–∑—É

### 4. **–¢–µ—Å—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ:**
- –í–æ–∑—å–º–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç
- –¢–∞—â–∏—Ç–µ **–í–ü–†–ê–í–û** (—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–¥–≤–∏–Ω—å—Ç–µ –º—ã—à—å –≤–ø—Ä–∞–≤–æ!)
- –í –∫–æ–Ω—Å–æ–ª–∏: `horizontalDelta: '65px'` (> 40)
- –í–∏–¥–∏—Ç–µ **ring + –æ—Ç—Å—Ç—É–ø**

---

## ‚ú® **–¢–ï–ü–ï–†–¨ –¢–û–ß–ù–û –î–û–õ–ñ–ù–û –†–ê–ë–û–¢–ê–¢–¨!**

**–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ —Ç–æ–º, —á—Ç–æ –º—ã —Å—á–∏—Ç–∞–ª–∏ offset –æ—Ç —Ü–µ–ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –∞ –Ω–µ —Å–¥–≤–∏–≥ –æ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞!**

**Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ HMR!**  
**–°–¥–µ–ª–∞–π—Ç–µ Ctrl + Shift + R –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ! üöÄ**

