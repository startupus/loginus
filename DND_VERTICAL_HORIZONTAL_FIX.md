# üéØ DND –§–ò–ù–ê–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê!

## ‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê:**

### üéÆ **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–∞–∫ –≤ —Ñ–∞–π–ª–æ–≤—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–∞—Ö):**

```
–í–ï–†–¢–ò–ö–ê–õ–¨–ù–û–ï –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ (‚Üë‚Üì)
‚îî‚îÄ‚Üí –ü–æ–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏ (before/after)

–ì–û–†–ò–ó–û–ù–¢–ê–õ–¨–ù–û–ï –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ (‚Üí)
‚îî‚îÄ‚Üí –°–¥–µ–ª–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–º (inside)
```

---

## üìê **–ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:**

### 1. **–ü–†–ò–û–†–ò–¢–ï–¢: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–¥–≤–∏–≥**
```typescript
if (horizontalOffset > 60px) {
  // –°–¥–≤–∏–Ω—É—Ç –≤–ø—Ä–∞–≤–æ ‚Üí NEST INSIDE
  setDropPosition('inside');
}
```

### 2. **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ (–µ—Å–ª–∏ –ù–ï–¢ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–¥–≤–∏–≥–∞)**
```typescript
if (activeCenterY < overCenterY) {
  // –ö—É—Ä—Å–æ—Ä –≤—ã—à–µ —Ü–µ–Ω—Ç—Ä–∞ ‚Üí INSERT BEFORE
  setDropPosition('before');
} else {
  // –ö—É—Ä—Å–æ—Ä –Ω–∏–∂–µ —Ü–µ–Ω—Ç—Ä–∞ ‚Üí INSERT AFTER
  setDropPosition('after');
}
```

---

## üé® **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:**

### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ (‚Üë‚Üì) - –õ–∏–Ω–∏–∏
```
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  ‚Üê BEFORE (—Å–∏–Ω—è—è –ª–∏–Ω–∏—è —Å–≤–µ—Ä—Ö—É)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Element    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  ‚Üê AFTER (—Å–∏–Ω—è—è –ª–∏–Ω–∏—è —Å–Ω–∏–∑—É)
```

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ (‚Üí) - Ring
```
    ‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì  ‚Üê INSIDE (ring + –æ—Ç—Å—Ç—É–ø –≤–ø—Ä–∞–≤–æ)
    ‚îÉ   Parent    ‚îÉ
    ‚îó‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îõ
```

---

## üîß **–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

### `handleDragOver` –ª–æ–≥–∏–∫–∞:

```typescript
// 1. –ü–†–ò–û–†–ò–¢–ï–¢: –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–¥–≤–∏–≥
if (horizontalOffset > 60) {
  // ‚Üí –í–ü–†–ê–í–û = NEST
  setDropPosition('inside');
  return;
}

// 2. –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ)
if (activeCenterY < overCenterY) {
  // ‚Üë –í–´–®–ï = BEFORE
  setDropPosition('before');
} else {
  // ‚Üì –ù–ò–ñ–ï = AFTER
  setDropPosition('after');
}
```

### Console logs –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
```
[DnD] Position: {
  horizontalOffset: '120px',  ‚Üê –ï—Å–ª–∏ > 60px ‚Üí inside
  verticalOffset: '-25px',    ‚Üê –ï—Å–ª–∏ < 0 ‚Üí before
  overCenterY: '450'
}
```

---

## üìù **–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ UI:**

- ‚Ä¢ **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ (‚Üë‚Üì)** ‚Üí –ü–æ–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏ (–≤—ã—à–µ/–Ω–∏–∂–µ)
- ‚Ä¢ **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ (‚Üí)** ‚Üí –°–¥–µ–ª–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–º (–ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤–ø—Ä–∞–≤–æ)

---

## üß™ **–¢–ï–°–¢–ò–†–£–ô–¢–ï:**

```
http://localhost:3000/ru/admin/menu-settings
```

### –¢–µ—Å—Ç 1: –ü–æ–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏ (‚Üë‚Üì)
1. –í–æ–∑—å–º–∏—Ç–µ "–ö–æ–º–ø–∞–Ω–∏—è"
2. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ **–í–ï–†–¢–ò–ö–ê–õ–¨–ù–û** –≤–≤–µ—Ä—Ö –∏–ª–∏ –≤–Ω–∏–∑ (–ù–ï —Å–¥–≤–∏–≥–∞—è –≤–ø—Ä–∞–≤–æ!)
3. –£–≤–∏–¥–∏—Ç–µ —Å–∏–Ω—é—é –ª–∏–Ω–∏—é **—Å–≤–µ—Ä—Ö—É** –∏–ª–∏ **—Å–Ω–∏–∑—É**
4. –û—Ç–ø—É—Å—Ç–∏—Ç–µ ‚Üí –ø–æ—Ä—è–¥–æ–∫ –∏–∑–º–µ–Ω–∏–ª—Å—è!

### –¢–µ—Å—Ç 2: –í–ª–æ–∂–∏—Ç—å (‚Üí)
1. –í–æ–∑—å–º–∏—Ç–µ "–î–æ–∫—É–º–µ–Ω—Ç—ã"
2. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ **–í–ü–†–ê–í–û** (horizontalOffset > 60px) –Ω–∞–¥ "–î–∞–Ω–Ω—ã–µ"
3. –£–≤–∏–¥–∏—Ç–µ **—Å–∏–Ω–∏–π RING** + —ç–ª–µ–º–µ–Ω—Ç —Å–¥–≤–∏–Ω–µ—Ç—Å—è –≤–ø—Ä–∞–≤–æ
4. –û—Ç–ø—É—Å—Ç–∏—Ç–µ ‚Üí —ç–ª–µ–º–µ–Ω—Ç –≤–ª–æ–∂–∏–ª—Å—è!

### –¢–µ—Å—Ç 3: –ò–∑–≤–ª–µ—á—å –∏–∑ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
1. –í–æ–∑—å–º–∏—Ç–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
2. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ **–í–ï–†–¢–ò–ö–ê–õ–¨–ù–û** –Ω–∞ root —É—Ä–æ–≤–µ–Ω—å
3. –£–≤–∏–¥–∏—Ç–µ –ª–∏–Ω–∏—é
4. –û—Ç–ø—É—Å—Ç–∏—Ç–µ ‚Üí —ç–ª–µ–º–µ–Ω—Ç –∏–∑–≤–ª—ë–∫—Å—è!

---

## ‚ú® **–†–ï–ó–£–õ–¨–¢–ê–¢:**

‚úÖ **‚Üë‚Üì –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ** ‚Üí –ü–æ–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏ (–ª–∏–Ω–∏–∏ before/after)  
‚úÖ **‚Üí –í–ø—Ä–∞–≤–æ** ‚Üí –í–ª–æ–∂–∏—Ç—å (ring + –æ—Ç—Å—Ç—É–ø)  
‚úÖ Console logs –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã  
‚úÖ Smooth animations  

**–†–∞–±–æ—Ç–∞–µ—Ç –¢–û–ß–ù–û –∫–∞–∫ –≤ —Ñ–∞–π–ª–æ–≤—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–∞—Ö!** üéâ

Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ HMR! –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ! üöÄ

