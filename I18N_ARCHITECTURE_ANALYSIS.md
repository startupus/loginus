# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤ Loginus UI

## üìã –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –§—Ä–æ–Ω—Ç–µ–Ω–¥
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞**: `react-i18next` (i18next)
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ JSON —Ñ–∞–π–ª—ã –≤ `frontend/src/services/i18n/locales/{lang}/{module}.json`
- **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: 10 –º–æ–¥—É–ª–µ–π (common, dashboard, auth, profile, errors, landing, about, work, modals, support)
- **–ó–∞–≥—Ä—É–∑–∫–∞**: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è, –ª–µ–Ω–∏–≤–∞—è (lazy loading) –ø–æ –º–æ–¥—É–ª—è–º
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í –ø–∞–º—è—Ç–∏ —á–µ—Ä–µ–∑ `loadedModules` Map
- **–Ø–∑—ã–∫–∏**: ru (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π), en (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π)

### –ë—ç–∫–µ–Ω–¥
- **API**: `/api/v1/translations/:locale` (GET)
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: JSON —Ñ–∞–π–ª—ã –≤ `backend-mock/data/translations/{lang}.json`
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ü–ª–æ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (common, errors) - **–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞**
- **–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞**: –î–∞, —á–µ—Ä–µ–∑ DataPreloaderService –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: ‚ùå **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º**
- **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è API –æ—Ç–≤–µ—Ç–æ–≤**: ‚ùå **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** - —Ç–µ–∫—Å—Ç—ã —Ö–∞—Ä–¥–∫–æ–¥—è—Ç—Å—è –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö

---

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–µ—Ä–µ–≤–æ–¥—ã –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏ –±—ç–∫–µ–Ω–¥–æ–º –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –†–∏—Å–∫ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–æ–≤
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä**:
```typescript
// –§—Ä–æ–Ω—Ç–µ–Ω–¥: frontend/src/services/i18n/locales/ru/common.json
{ "common": { "welcomeMessage": "..." } }

// –ë—ç–∫–µ–Ω–¥: backend-mock/data/translations/ru.json  
{ "common": { "welcomeMessage": "..." } }
// ‚ùå –ú–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è!
```

### 2. **API –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ë—ç–∫–µ–Ω–¥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç `/api/v1/translations/:locale`, –Ω–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –µ–≥–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

**–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ**:
- **–ë—ç–∫–µ–Ω–¥**: –ü–ª–æ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `{ common: {...}, errors: {...} }` –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - 10 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ –º–æ–¥—É–ª—è–º

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –ù–µ—Ç –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–∏ –∏—Å—Ç–∏–Ω—ã
- –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–µ–ª–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å–ª–æ–∂–Ω–µ–µ

### 3. **–•–∞—Ä–¥–∫–æ–¥ —Ç–µ–∫—Å—Ç–æ–≤ –≤ –±—ç–∫–µ–Ω–¥–µ**
**–ü—Ä–æ–±–ª–µ–º–∞**: –í `support.service.ts` –∏ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö –µ—Å—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ —Ä—É—Å—Å–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤.

**–ü—Ä–∏–º–µ—Ä**:
```typescript
// backend-mock/src/support/support.service.ts:35
name: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Loginus ID', // ‚ùå –•–∞—Ä–¥–∫–æ–¥
lastMessage: '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –ø–æ–º–æ–≥—É...', // ‚ùå –•–∞—Ä–¥–∫–æ–¥
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ API
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### 4. **–ù–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ —è–∑—ã–∫–∞ –≤ API –∑–∞–ø—Ä–æ—Å–∞—Ö**
**–ü—Ä–æ–±–ª–µ–º–∞**: –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Accept-Language` –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ –±—ç–∫–µ–Ω–¥—É.

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –ë—ç–∫–µ–Ω–¥ –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —è–∑—ã–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ API
- –ù–∞—Ä—É—à–µ–Ω–∏–µ RESTful –ø—Ä–∞–∫—Ç–∏–∫

### 5. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —è–∑—ã–∫–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –í–°–ï –º–æ–¥—É–ª–∏ —Å—Ä–∞–∑—É, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑ –Ω–∏—Ö.

**–ö–æ–¥**:
```typescript
// frontend/src/services/i18n/config.ts:209-215
export const changeLanguage = async (locale: string) => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–≥—Ä—É–∂–µ–Ω –ª–∏ —É–∂–µ —è–∑—ã–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é
  if (!loadedModules.has(locale) || loadedModules.get(locale)!.size < availableModules.length) {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –º–æ–¥—É–ª–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ —è–∑—ã–∫–∞
    const allModules = await loadAllModules(locale); // ‚ùå –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ 10 –º–æ–¥—É–ª–µ–π —Å—Ä–∞–∑—É
    i18n.addResourceBundle(locale, 'translation', allModules, true, true);
  }
  await i18n.changeLanguage(locale);
  await i18n.reloadResources(locale);
};
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ —è–∑—ã–∫ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ 10 –º–æ–¥—É–ª–µ–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ (–≤—Å–µ –º–æ–¥—É–ª–∏ –≤ –ø–∞–º—è—Ç–∏ —Å—Ä–∞–∑—É)
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —è–∑—ã–∫–∞

### 6. **–•—Ä—É–ø–∫–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–¥—É–ª–µ–π**
**–ü—Ä–æ–±–ª–µ–º–∞**: –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–¥—É–ª—è –ø–æ –∫–ª—é—á—É –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –ø—Ä–µ—Ñ–∏–∫—Å–∞—Ö –∏ –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –Ω–æ–≤—ã—Ö –∫–ª—é—á–µ–π.

**–ö–æ–¥**:
```typescript
// frontend/src/services/i18n/config.ts:182-191
if (key.startsWith('dashboard.')) module = 'dashboard';
else if (key.startsWith('auth.') || key.startsWith('onboarding.')) module = 'auth';
// ‚ùå –•—Ä—É–ø–∫–∞—è –ª–æ–≥–∏–∫–∞, —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –Ω–æ–≤—ã—Ö –∫–ª—é—á–∞—Ö
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –ú–æ–¥—É–ª–∏ –º–æ–≥—É—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∫–ª—é—á–µ–π

### 7. **–ù–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å "–≥–æ—Ä—è—á–µ–≥–æ" –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –±—Ä–∞—É–∑–µ—Ä–∞
- –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

### 8. **–ü—Ä–æ–±–ª–µ–º–∞ —Å fallback —è–∑—ã–∫–æ–º**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª—è –≤ `loadModule` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç. Fallback –Ω–∞ —Ä—É—Å—Å–∫–∏–π –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –≤ `loadAllModules`, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –ø—Ä–∏ –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ.

**–ö–æ–¥**:
```typescript
// frontend/src/services/i18n/config.ts:72-78
// loadModule - –Ω–µ—Ç fallback –Ω–∞ —Ä—É—Å—Å–∫–∏–π
} catch (error) {
  if (process.env.NODE_ENV === 'development') {
    console.warn(`Failed to load module ${module} for locale ${locale}:`, error);
  }
  return {}; // ‚ùå –ü—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç –≤–º–µ—Å—Ç–æ fallback –Ω–∞ —Ä—É—Å—Å–∫–∏–π
}

// loadAllModules - –µ—Å—Ç—å fallback, –Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –≤—Å–µ–π –∑–∞–≥—Ä—É–∑–∫–∏
// frontend/src/services/i18n/config.ts:99-106
} catch (error) {
  console.error(`Failed to load modules for locale ${locale}:`, error);
  if (locale !== 'ru') {
    return loadAllModules('ru'); // ‚úÖ Fallback –µ—Å—Ç—å, –Ω–æ —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å
  }
  return {};
}
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è –¥–ª—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
- Fallback —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π, –Ω–æ –Ω–µ –ø—Ä–∏ –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ —á–µ—Ä–µ–∑ `missingKey`
- –ü–ª–æ—Ö–æ–π UX –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–∫–∞—Ö –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ñ–∞–π–ª–æ–≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π

---

## üü° –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 9. **–ù–µ—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç TypeScript —Ç–∏–ø–æ–≤ –¥–ª—è –∫–ª—é—á–µ–π –ø–µ—Ä–µ–≤–æ–¥–æ–≤.

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –ù–µ—Ç –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤ IDE
- –†–∏—Å–∫ –æ–ø–µ—á–∞—Ç–æ–∫ –≤ –∫–ª—é—á–∞—Ö
- –°–ª–æ–∂–Ω–µ–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

### 10. **–ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ –≤—Å–µ –º–æ–¥—É–ª–∏ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤.

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –†–∏—Å–∫ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª—é—á–µ–π –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —è–∑—ã–∫–∞—Ö
- –°–ª–æ–∂–Ω–µ–µ –æ—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏

### 11. **–ù–µ—Ç –º–µ—Ç—Ä–∏–∫ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
- –ö–∞–∫–∏–µ –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–∞—â–µ –≤—Å–µ–≥–æ
- –ö–∞–∫–∏–µ –∫–ª—é—á–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

### 12. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `requestIdleCallback` —Å fallback –Ω–∞ `setTimeout`, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ race conditions.

**–ö–æ–¥**:
```typescript
// frontend/src/services/i18n/config.ts:151-167
if (typeof window !== 'undefined' && 'requestIdleCallback' in window) {
  (window as any).requestIdleCallback(() => { ... });
} else {
  setTimeout(() => { ... }, 100); // ‚ùå –ú–∞–≥–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ
}
```

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ

1. **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - —Ö–æ—Ä–æ—à–µ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–æ–º–µ–Ω–∞–º
2. **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º** - —è–∑—ã–∫ –≤ URL —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å i18n
5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞** - —è–∑—ã–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### 1.1. –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—ç–∫–µ–Ω–¥ –∫–∞–∫ –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Backend   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Translations‚îÇ
‚îÇ   API       ‚îÇ         ‚îÇ  Service      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                        ‚îÇ
       ‚îÇ                        ‚ñº
       ‚îÇ                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ                 ‚îÇ   Frontend   ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   i18n      ‚îÇ
                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
1. –†–∞—Å—à–∏—Ä–∏—Ç—å API –±—ç–∫–µ–Ω–¥–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
   - –î–æ–±–∞–≤–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/v1/translations/:locale/:module` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
   - –ò–ª–∏ `/api/v1/translations/:locale?modules=common,dashboard` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–¥—É–ª–µ–π
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å `/api/v1/translations/:locale` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Å—Ä–∞–∑—É
2. –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ (localStorage/IndexedDB —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∫–∞–∫ fallback –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–µ—Ç–∏ –∏–ª–∏ –æ—à–∏–±–∫–∞—Ö API
4. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é: —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫—ç—à, –ø–æ—Ç–æ–º API, –ø–æ—Ç–æ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

#### 1.2. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å —è–∑—ã–∫ –≤ API –∑–∞–ø—Ä–æ—Å–∞—Ö
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Accept-Language` –≤–æ –≤—Å–µ API –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ interceptor.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```typescript
// frontend/src/services/api/client.ts
import { useLanguageStore } from '@/store';

apiClient.interceptors.request.use(
  (config) => {
    // –î–æ–±–∞–≤–ª—è–µ–º —è–∑—ã–∫ –∏–∑ store
    const { language } = useLanguageStore.getState();
    config.headers['Accept-Language'] = language || 'ru';
    
    // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
    return config;
  },
  (error) => Promise.reject(error)
);
```

**–ù–∞ –±—ç–∫–µ–Ω–¥–µ**: –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è —á—Ç–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ –ø–µ—Ä–µ–¥–∞—á–∏ –≤ —Å–µ—Ä–≤–∏—Å—ã:
```typescript
// backend-mock/src/common/language.interceptor.ts
@Injectable()
export class LanguageInterceptor implements NestInterceptor {
  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {
    const request = context.switchToHttp().getRequest();
    const acceptLanguage = request.headers['accept-language'] || 'ru';
    const locale = acceptLanguage.split(',')[0].toLowerCase().startsWith('en') ? 'en' : 'ru';
    
    // –î–æ–±–∞–≤–ª—è–µ–º locale –≤ request –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö
    request.locale = locale;
    
    return next.handle();
  }
}
```

#### 1.3. –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –±—ç–∫–µ–Ω–¥–∞
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–∞ –±—ç–∫–µ–Ω–¥–µ –¥–ª—è –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤. –í—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ —Ö–∞—Ä–¥–∫–æ–¥ —Ç–µ–∫—Å—Ç—ã –≤ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤.

**–®–∞–≥ 1**: –†–∞—Å—à–∏—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ:
```json
// backend-mock/data/translations/ru.json
{
  "common": { ... },
  "errors": { ... },
  "support": {
    "chatHistory": {
      "loginusId": "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Loginus ID",
      "kinopoisk": "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ö–∏–Ω–æ–ø–æ–∏—Å–∫–∞",
      "alice": "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É–º–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å –ê–ª–∏—Å–æ–π",
      "welcomeMessage": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –ø–æ–º–æ–≥—É –≤–∞–º —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –ø–æ Loginus ID."
    }
  }
}
```

**–®–∞–≥ 2**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö:
```typescript
// backend-mock/src/support/support.service.ts
@Injectable()
export class SupportService {
  constructor(
    private readonly translations: TranslationsService,
  ) {}

  getChatHistory(locale: 'ru' | 'en' = 'ru'): ChatHistoryItem[] {
    const t = this.translations.getTranslations(locale);
    const support = t.data?.support?.chatHistory || {};
    
    return [
      {
        id: 'id',
        name: support.loginusId || '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Loginus ID',
        service: 'Loginus ID',
        isOnline: true,
        lastMessage: support.welcomeMessage || '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!...',
        date: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
        isActive: true,
      },
      // ...
    ];
  }
}
```

**–®–∞–≥ 3**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å locale –∏–∑ request (—á–µ—Ä–µ–∑ interceptor):
```typescript
// –í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
@Get('history')
getChatHistory(@Req() request: Request) {
  const locale = request.locale || 'ru';
  return this.supportService.getChatHistory(locale);
}
```

#### 1.4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª–µ–π
**–†–µ—à–µ–Ω–∏–µ**: –ó–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –º–æ–¥—É–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —è–∑—ã–∫–∞, —Å–æ—Ö—Ä–∞–Ω—è—è –ª–µ–Ω–∏–≤—É—é –∑–∞–≥—Ä—É–∑–∫—É.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```typescript
export const changeLanguage = async (locale: string) => {
  // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –º–æ–¥—É–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —è–∑—ã–∫–∞
  const criticalModules: ModuleName[] = ['common']; // –ú–∏–Ω–∏–º—É–º –¥–ª—è —Ä–∞–±–æ—Ç—ã UI
  
  const currentModules = loadedModules.get(locale) || new Set();
  const missingCritical = criticalModules.filter(m => !currentModules.has(m));
  
  if (missingCritical.length > 0) {
    const modules = await Promise.all(
      missingCritical.map(m => loadModule(locale, m))
    );
    const merged = modules.reduce((acc, m) => ({ ...acc, ...m }), {});
    i18n.addResourceBundle(locale, 'translation', merged, true, true);
  }
  
  await i18n.changeLanguage(locale);
  await i18n.reloadResources(locale);
  
  // –û—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –ª–µ–Ω–∏–≤–æ —á–µ—Ä–µ–∑ missingKey handler
};
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: –ó–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–¥—É–ª–∏ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é, –Ω–æ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ (common, profile) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è.

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –£–ª—É—á—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

#### 2.1. –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é –ø–µ—Ä–µ–≤–æ–¥–æ–≤
**–†–µ—à–µ–Ω–∏–µ**: –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å TypeScript —Ç–∏–ø—ã –∏–∑ JSON —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–æ–≤.

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: `i18next-parser` –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–∏–ø–æ–≤

#### 2.2. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ –æ—Ç–≤–µ—Ç API –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏—é –¥–ª—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫—ç—à–∞.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ**:
```typescript
// backend-mock/src/translations/translations.service.ts
interface TranslationsResponse {
  version: string; // –í–µ—Ä—Å–∏—è –∏–∑ package.json –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –≤–µ—Ä—Å–∏–π
  locale: string;
  data: Record<string, any>;
  modules?: string[]; // –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
  timestamp: number; // –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
}

getTranslations(locale: 'ru' | 'en'): TranslationsResponse {
  const data = this.preloader.getPreloadedData<any>(`translations/${locale}.json`);
  return {
    version: process.env.TRANSLATIONS_VERSION || '1.0.0',
    locale,
    data: data || {},
    timestamp: Date.now(),
  };
}
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ**:
```typescript
// frontend/src/services/i18n/cache.ts
interface CachedTranslations {
  version: string;
  locale: string;
  data: Record<string, any>;
  timestamp: number;
}

const CACHE_KEY = 'i18n-translations-cache';

async function loadWithCache(locale: string, module: string): Promise<Record<string, any>> {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
  const cached = localStorage.getItem(`${CACHE_KEY}-${locale}-${module}`);
  if (cached) {
    const parsed: CachedTranslations = JSON.parse(cached);
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä—Å–∏—é —Å —Å–µ—Ä–≤–µ—Ä–∞
    const serverVersion = await checkServerVersion(locale);
    if (parsed.version === serverVersion) {
      return parsed.data; // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à
    }
  }
  
  // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞
  const response = await fetch(`/api/v1/translations/${locale}/${module}`);
  const data = await response.json();
  
  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à
  localStorage.setItem(`${CACHE_KEY}-${locale}-${module}`, JSON.stringify({
    version: data.version,
    locale: data.locale,
    data: data.data,
    timestamp: data.timestamp,
  }));
  
  return data.data;
}
```

#### 2.3. –£–ª—É—á—à–∏—Ç—å fallback –º–µ—Ö–∞–Ω–∏–∑–º
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å fallback –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫. –¢–∞–∫–∂–µ —É–ª—É—á—à–∏—Ç—å fallback –≤ `loadAllModules`.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```typescript
const loadModule = async (locale: string, module: ModuleName): Promise<Record<string, any>> => {
  try {
    // ... –∑–∞–≥—Ä—É–∑–∫–∞
  } catch (error) {
    if (process.env.NODE_ENV === 'development') {
      console.warn(`Failed to load module ${module} for locale ${locale}:`, error);
    }
    
    // Fallback –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —è–∑—ã–∫ –Ω–µ —Ä—É—Å—Å–∫–∏–π
    if (locale !== 'ru') {
      try {
        return await loadModule('ru', module);
      } catch (fallbackError) {
        if (process.env.NODE_ENV === 'development') {
          console.error(`Fallback to ru also failed for module ${module}:`, fallbackError);
        }
      }
    }
    
    // –ü–æ—Å–ª–µ–¥–Ω–∏–π fallback - –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç
    return {};
  }
};
```

**–¢–∞–∫–∂–µ —É–ª—É—á—à–∏—Ç—å `loadAllModules`**:
```typescript
const loadAllModules = async (locale: string): Promise<Record<string, any>> => {
  try {
    const modules = await Promise.all(
      availableModules.map(module => loadModule(locale, module))
    );
    return modules.reduce((acc, moduleData) => ({ ...acc, ...moduleData }), {});
  } catch (error) {
    console.error(`Failed to load modules for locale ${locale}:`, error);
    // Fallback –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
    if (locale !== 'ru') {
      return loadAllModules('ru');
    }
    return {};
  }
};
```

#### 2.4. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π
**–†–µ—à–µ–Ω–∏–µ**: –í—ã–Ω–µ—Å—Ç–∏ –º–∞–ø–ø–∏–Ω–≥ –∫–ª—é—á–µ–π –∫ –º–æ–¥—É–ª—è–º –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```typescript
const moduleMapping: Record<string, ModuleName> = {
  'dashboard': 'dashboard',
  'auth': 'auth',
  'onboarding': 'auth',
  // ...
};
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 3.1. –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª–µ–π
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### 3.2. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞–ª–∏—á–∏—è –≤—Å–µ—Ö –∫–ª—é—á–µ–π –≤–æ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö
- CI/CD –ø—Ä–æ–≤–µ—Ä–∫–∏

#### 3.3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–Ω–¥–ª–∞
- Code splitting –ø–æ —è–∑—ã–∫–∞–º
- Tree shaking –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –°–∂–∞—Ç–∏–µ JSON —Ñ–∞–π–ª–æ–≤

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

### –¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥ (–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã)
‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞  
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω  
‚ùå –ù–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π  
‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –±—ç–∫–µ–Ω–¥–æ–º  

### –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–π –ø–æ–¥—Ö–æ–¥ (–ì–∏–±—Ä–∏–¥–Ω—ã–π)
‚úÖ –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã  
‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è  
‚úÖ Fallback –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã  
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω  
‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è  

---

## üéØ –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1-2 –¥–Ω—è)
1. –†–∞—Å—à–∏—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ (–¥–æ–±–∞–≤–∏—Ç—å support, profile –∏ –¥—Ä. –º–æ–¥—É–ª–∏)
2. –í—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ —Ö–∞—Ä–¥–∫–æ–¥ —Ç–µ–∫—Å—Ç—ã –∏–∑ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤
3. –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ API –æ—Ç–≤–µ—Ç
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ (localStorage/IndexedDB)

### –≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (2-3 –¥–Ω—è)
1. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Å –±—ç–∫–µ–Ω–¥–∞ (—Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –Ω–∞–¥ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏)
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∫–∞–∫ fallback –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–µ—Ç–∏/–æ—à–∏–±–∫–∞—Ö
3. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É —è–∑—ã–∫–∞ –≤ API –∑–∞–ø—Ä–æ—Å–∞—Ö —á–µ—Ä–µ–∑ interceptor (`Accept-Language`)
4. –î–æ–±–∞–≤–∏—Ç—å LanguageInterceptor –Ω–∞ –±—ç–∫–µ–Ω–¥–µ –¥–ª—è —á—Ç–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞
5. –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞

### –≠—Ç–∞–ø 3: –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –±—ç–∫–µ–Ω–¥–∞ (2-3 –¥–Ω—è)
1. ‚úÖ –í—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ —Ö–∞—Ä–¥–∫–æ–¥ —Ç–µ–∫—Å—Ç—ã –≤ –ø–µ—Ä–µ–≤–æ–¥—ã (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ –≤ –≠—Ç–∞–ø–µ 1)
2. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ –≤ –≠—Ç–∞–ø–µ 2)
3. –î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
4. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è API —Å —Ä–∞–∑–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é

### –≠—Ç–∞–ø 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (1-2 –¥–Ω—è)
1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª–µ–π (–∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏)
2. –£–ª—É—á—à–∏—Ç—å fallback –º–µ—Ö–∞–Ω–∏–∑–º (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ —Ä—É—Å—Å–∫–∏–π)
3. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è)
5. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫—É –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è

**–û–±—â–µ–µ –≤—Ä–µ–º—è**: ~1-2 –Ω–µ–¥–µ–ª–∏

---

## üìù –í—ã–≤–æ–¥—ã

–¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏–º–µ–µ—Ç **—Ö–æ—Ä–æ—à—É—é –æ—Å–Ω–æ–≤—É**, –Ω–æ —Å—Ç—Ä–∞–¥–∞–µ—Ç –æ—Ç **—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –º–µ–∂–¥—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏ –±—ç–∫–µ–Ω–¥–æ–º**. 

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:
1. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
2. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ API
3. –•–∞—Ä–¥–∫–æ–¥ —Ç–µ–∫—Å—Ç–æ–≤ –≤ –±—ç–∫–µ–Ω–¥–µ
4. –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥**: –ì–∏–±—Ä–∏–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –±—ç–∫–µ–Ω–¥–æ–º –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –∫–∞–∫ fallback.

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç:
- ‚úÖ –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –†–∞–±–æ—Ç—É –æ—Ñ–ª–∞–π–Ω
- ‚úÖ –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é API –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –õ—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

