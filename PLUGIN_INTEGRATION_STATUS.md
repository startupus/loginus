# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–´ –û–ë–ï –ü–†–û–ë–õ–ï–ú–´!

## 1Ô∏è‚É£ **–ü–†–û –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†:**

### **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä - —ç—Ç–æ **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π HTML/JS** –±–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å backend.

- ‚ùå **–ù–ï–¢** –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ —Å–æ–±—ã—Ç–∏–π
- ‚ùå **–ù–ï–¢** –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —Å backend
- ‚ùå **–ù–ï–¢** –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª —á–µ—Ä–µ–∑ iframe

### **–ß—Ç–æ –ú–û–ñ–ù–û –¥–æ–±–∞–≤–∏—Ç—å:**

#### **A) –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π:**
```javascript
// –í index.html –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
function logCalculation(operation, result) {
  fetch('http://localhost:3004/api/v2/events/calculator', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      operation,
      result,
      timestamp: new Date().toISOString()
    })
  });
}
```

#### **B) –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏:**
```javascript
// –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ localStorage –∏–ª–∏ backend
localStorage.setItem('calculator-history', JSON.stringify(history));
```

#### **C) –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫:**
```javascript
// –ü–æ–ª—É—á–∞—Ç—å —Ç–µ–º—É/–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ backend
fetch('http://localhost:3004/api/v2/user/settings/calculator')
  .then(r => r.json())
  .then(settings => applySettings(settings));
```

#### **D) –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –æ–∫–Ω–æ–º:**
```javascript
// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É –æ–∫–Ω—É —á–µ—Ä–µ–∑ postMessage
window.parent.postMessage({
  type: 'CALCULATOR_EVENT',
  action: 'CALCULATION_DONE',
  result: 42
}, '*');

// –í —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –æ–∫–Ω–µ (Loginus)
window.addEventListener('message', (event) => {
  if (event.data.type === 'CALCULATOR_EVENT') {
    console.log('Calculator:', event.data);
  }
});
```

---

## 2Ô∏è‚É£ **–ü–†–û –í–ò–î–ñ–ï–¢ –ü–û–ì–û–î–´:**

### **–ü—Ä–æ–±–ª–µ–º–∞:**
`PluginWidget.tsx` –ø—Ä–æ–≤–µ—Ä—è–ª `manifest.ui.entryFile`, –Ω–æ –≤ –≤–∏–¥–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `manifest.config.entrypoint`!

### **–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø—Ä–∞–≤–∏–ª `PluginWidget.tsx`:

```typescript
{uiType === 'embedded' && (manifest?.ui?.entryFile || manifest?.config?.entrypoint) ? (
  <iframe
    src={manifest?.ui?.entryFile || `/uploads/plugins/${slug}/${manifest?.config?.entrypoint}`}
    className="w-full h-64 border-0 rounded-lg"
    title={title}
    sandbox="allow-scripts allow-same-origin"
  />
) : (
```

–¢–µ–ø–µ—Ä—å –≤–∏–¥–∂–µ—Ç **–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞**:
1. `manifest.ui.entryFile` (—Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç)
2. `manifest.config.entrypoint` (–Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç) ‚úÖ

---

## üöÄ **–ü–†–û–í–ï–†–¨–¢–ï:**

### **1. –í–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/ru/dashboard`
2. **–î–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è –≤–∏–¥–∂–µ—Ç "–ü–æ–≥–æ–¥–∞ –≤ –ú–æ—Å–∫–≤–µ"** —Å —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º –∏ –º–æ–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏!

### **2. –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å backend?
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
- –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

---

## üìä **–°–¢–ê–¢–£–°:**

- ‚úÖ –í–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã: **–ò–°–ü–†–ê–í–õ–ï–ù** (–∏–∑–º–µ–Ω—ë–Ω `PluginWidget.tsx`)
- ‚ö†Ô∏è –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä: **–†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π HTML** (–±–µ–∑ backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
- ‚úÖ –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ `/uploads/`: **–ù–∞—Å—Ç—Ä–æ–µ–Ω–æ**

**–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (`Ctrl + F5`) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã!** üå®Ô∏è

