# üìã –¢–∏–ø—ã –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é –∏ –ø–ª–∞–≥–∏–Ω–æ–≤: –†–∞–∑–ª–∏—á–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üîç –¢–µ–∫—É—â–∏–µ —Ç–∏–ø—ã –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é

### 1. **External (–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞)**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ—Å—Ç–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–Ω–µ—à–Ω–∏–π —Å–∞–π—Ç
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ –∏–ª–∏ —Ç–µ–∫—É—â–µ–π
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: 
  - –°—Å—ã–ª–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ì–æ—Å—É—Å–ª—É–≥–∏)
  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  - –í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã

**–ü—Ä–∏–º–µ—Ä:**
```typescript
{
  type: 'external',
  externalUrl: 'https://gosuslugi.ru',
  openInNewTab: true
}
```

### 2. **Iframe (–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç)**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ `<iframe>`
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 
  - –ú–æ–∂–µ—Ç –±—ã—Ç—å **URL** (`iframeUrl`) - –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ URL
  - –ú–æ–∂–µ—Ç –±—ã—Ç—å **HTML –∫–æ–¥** (`iframeCode`) - –≤—Å—Ç–∞–≤–ª—è–µ—Ç HTML –Ω–∞–ø—Ä—è–º—É—é
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  - –ü—Ä–æ—Å—Ç—ã–µ –≤–∏–¥–∂–µ—Ç—ã
  - –ö–æ–Ω—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä:**
```typescript
{
  type: 'iframe',
  iframeUrl: '/uploads/plugins/calculator/index.html',
  // –ò–õ–ò
  iframeCode: '<html><body>Hello World</body></html>'
}
```

### 3. **Embedded (–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å SDK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **launch API** (`POST /plugins/:slug/launch`)
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç **initData** —á–µ—Ä–µ–∑ `postMessage`
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—é—é –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é (SDK)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  - –°–ª–æ–∂–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∫–∞–∫ Telegram Mini Apps)
  - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ç—Ä–µ–±—É—é—â–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∏ —Å–æ–±—ã—Ç–∏—è–º–∏

**–ü—Ä–∏–º–µ—Ä:**
```typescript
{
  type: 'embedded',
  embeddedAppUrl: 'https://app.example.com',
  // Backend –≤—ã–∑—ã–≤–∞–µ—Ç POST /plugins/:slug/launch
  // –ü–æ–ª—É—á–∞–µ—Ç launchUrl + initData
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç initData –≤ iframe —á–µ—Ä–µ–∑ postMessage
}
```

## ü§î –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–°–µ–π—á–∞—Å **–≤—Å–µ –ø–ª–∞–≥–∏–Ω—ã** –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–∏–ø `iframe`, —Ö–æ—Ç—è –æ–Ω–∏ –º–æ–≥–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `embedded` –¥–ª—è –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å
- –ü–ª–∞–≥–∏–Ω—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–∞–∫ `.zip` –∞—Ä—Ö–∏–≤—ã
- –ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –≤ `uploads/plugins/{slug}/`
- –†–µ–Ω–¥–µ—Ä—è—Ç—Å—è —á–µ—Ä–µ–∑ `IframePage` —Å –ø–µ—Ä–µ–¥–∞—á–µ–π —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ `postMessage`
- Backend –∫–æ–¥ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `src/plugins/{slug}/`

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –û—Å—Ç–∞–≤–∏—Ç—å –æ–¥–∏–Ω —Ñ–æ—Ä–º–∞—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è MVP)**

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `iframe` –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞–≥–∏–Ω–æ–≤:**

‚úÖ **–ü–ª—é—Å—ã:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –£–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –õ–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤

‚ùå **–ú–∏–Ω—É—Å—ã:**
- –ù–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π SDK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å —Ö–æ—Å—Ç–æ–º

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `iframeCode`:**
- –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö HTML —Å—Ç—Ä–∞–Ω–∏—Ü
- –î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –≤–∏–¥–∂–µ—Ç–æ–≤ –±–µ–∑ backend

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `iframeUrl`:**
- –î–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤ —Å backend –∫–æ–¥–æ–º
- –î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –î–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –¢—Ä–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –ø–ª–∞–≥–∏–Ω–æ–≤**

#### **–§–æ—Ä–º–∞—Ç 1: Simple Plugin (iframe)**
- –¢–æ–ª—å–∫–æ frontend (HTML/CSS/JS)
- –†–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ `IframePage`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `iframeUrl` –∏–ª–∏ `iframeCode`

**manifest.json:**
```json
{
  "type": "menu_item",
  "config": {
    "renderType": "iframe",
    "entrypoint": "index.html"
  }
}
```

#### **–§–æ—Ä–º–∞—Ç 2: Backend Plugin (iframe + backend)**
- Frontend + Backend –∫–æ–¥
- –†–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ `IframePage`
- Backend –∫–æ–¥ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `iframeUrl`

**manifest.json:**
```json
{
  "type": "menu_item",
  "config": {
    "renderType": "iframe",
    "entrypoint": "index.html"
  },
  "backend": {
    "enabled": true,
    "modulePath": "backend/plugin.module.ts"
  }
}
```

#### **–§–æ—Ä–º–∞—Ç 3: Embedded App (embedded)**
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –†–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ `EmbeddedAppPage`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç launch API
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç SDK

**manifest.json:**
```json
{
  "type": "menu_item",
  "config": {
    "renderType": "embedded",
    "entrypoint": "index.html",
    "launchUrl": "https://app.example.com"
  }
}
```

## üéØ –ú–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ

### **–î–ª—è —Ç–µ–∫—É—â–µ–≥–æ —ç—Ç–∞–ø–∞ (MVP):**

1. **–û—Å—Ç–∞–≤–∏—Ç—å –æ–¥–∏–Ω —Ñ–æ—Ä–º–∞—Ç - `iframe`**
2. **–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:**
   - `iframeUrl` - –¥–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤ –∏–∑ –∞—Ä—Ö–∏–≤–∞ (–∫–∞–∫ —Å–µ–π—á–∞—Å)
   - `iframeCode` - –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

3. **–í –±—É–¥—É—â–µ–º –¥–æ–±–∞–≤–∏—Ç—å `embedded`:**
   - –ö–æ–≥–¥–∞ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è SDK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
   - –ö–æ–≥–¥–∞ –ø–æ—è–≤—è—Ç—Å—è —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –ö–æ–≥–¥–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ launch API

### **–ü–æ—á–µ–º—É `iframeCode` –ø–æ–ª–µ–∑–µ–Ω:**

- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏ –∞—Ä—Ö–∏–≤–∞
- ‚úÖ –ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–æ–≤
- ‚úÖ –í—Å—Ç–∞–≤–∫–∞ HTML —Å–Ω–∏–ø–ø–µ—Ç–æ–≤
- ‚úÖ –î–µ–º–æ –∫–æ–Ω—Ç–µ–Ω—Ç

### **–ü–æ—á–µ–º—É `iframeUrl` –æ—Å–Ω–æ–≤–Ω–æ–π:**

- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç)
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ backend –∫–æ–¥–∞
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤

## üìù –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### **–°–µ–π—á–∞—Å (MVP):**
1. ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å `iframe` –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∏–ø –¥–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤
2. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å `iframeUrl` (–∏–∑ –∞—Ä—Ö–∏–≤–∞) –∏ `iframeCode` (—Ä—É—á–Ω–æ–π –≤–≤–æ–¥)
3. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏

### **–í –±—É–¥—É—â–µ–º:**
1. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É `embedded` –¥–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤
2. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å launch API –¥–ª—è embedded –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
3. ‚è≥ –°–æ–∑–¥–∞—Ç—å SDK –¥–ª—è embedded –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **IframePage (—Ç–µ–∫—É—â–∏–π):**
- –ü—Ä–æ—Å—Ç–æ–π iframe —Å –ø–µ—Ä–µ–¥–∞—á–µ–π —Ç–æ–∫–µ–Ω–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `url` –∏ `code` –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞

### **EmbeddedAppPage (–±—É–¥—É—â–∏–π):**
- Launch API –≤—ã–∑–æ–≤
- InitData –ø–µ—Ä–µ–¥–∞—á–∞
- SDK –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Å–æ–±—ã—Ç–∏—è

## ‚ùì –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

**Q: –ü–æ—á–µ–º—É –ø–ª–∞–≥–∏–Ω—ã –≤ iframe, –∞ –Ω–µ embedded?**
A: –ü–æ—Ç–æ–º—É —á—Ç–æ iframe –ø—Ä–æ—â–µ –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–∏—Ö –∑–∞–¥–∞—á. Embedded –Ω—É–∂–µ–Ω –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å SDK.

**Q: –ó–∞—á–µ–º –æ–∫–Ω–æ –¥–ª—è HTML –∫–æ–¥–∞?**
A: –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏ –∞—Ä—Ö–∏–≤–∞.

**Q: –ù—É–∂–Ω—ã –ª–∏ 3 –≤–µ—Ä—Å–∏–∏ –ø–ª–∞–≥–∏–Ω–æ–≤?**
A: –ü–æ–∫–∞ –Ω–µ—Ç. –û–¥–∏–Ω —Ñ–æ—Ä–º–∞—Ç (iframe) –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å embedded.

**Q: –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å embedded?**
A: –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, SDK, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, —Å–æ–±—ã—Ç–∏—è –º–µ–∂–¥—É —Ö–æ—Å—Ç–æ–º –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

