# Extension System - Executive Summary

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ–º

–°–æ–∑–¥–∞–µ–º —Å–∏—Å—Ç–µ–º—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π (–ø–ª–∞–≥–∏–Ω—ã + –≤–∏–¥–∂–µ—Ç—ã) —Å event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å Joomla.

---

## üìã –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. **–†–∞—Å—à–∏—Ä–µ–Ω–∏—è (Extensions)**
- **–ü–ª–∞–≥–∏–Ω—ã** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ + UI (–æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é)
- **–í–∏–¥–∂–µ—Ç—ã** - iframe –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ (—Ç–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ)

### 2. **–¢–∏–ø—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π**
- –í–∏–¥–∂–µ—Ç—ã
- –ü—É–Ω–∫—Ç—ã –º–µ–Ω—é
- –û–ø–ª–∞—Ç–∞
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ö–æ–Ω—Ç–µ–Ω—Ç
- –°–∏—Å—Ç–µ–º–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- API

### 3. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**
```
–†–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚îú‚îÄ‚îÄ –ú–µ–Ω–µ–¥–∂–µ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π (—Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö, —Ñ–∏–ª—å—Ç—Ä—ã, –ø–æ–∏—Å–∫)
‚îú‚îÄ‚îÄ –ü–ª–∞–≥–∏–Ω—ã (–∑–∞–≥—Ä—É–∑–∫–∞ .zip, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
‚îî‚îÄ‚îÄ –í–∏–¥–∂–µ—Ç—ã (–∑–∞–≥—Ä—É–∑–∫–∞ .zip, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
```

### 4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ–Ω—é**
- –í—ã–±–æ—Ä –ø–ª–∞–≥–∏–Ω–∞ –¥–ª—è –ø—É–Ω–∫—Ç–∞ –º–µ–Ω—é
- –ê–≤—Ç–æ–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø—É—Ç–µ–π (`/—Ä–æ–¥–∏—Ç–µ–ª—å/—Ä–µ–±–µ–Ω–æ–∫`)
- Drag & Drop (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π + –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π)
- –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å (1 —É—Ä–æ–≤–µ–Ω—å)

### 5. **–í–∏–¥–∂–µ—Ç—ã –≤ –ø—Ä–æ—Ñ–∏–ª–µ**
- –ê–¥–º–∏–Ω –¥–æ–±–∞–≤–ª—è–µ—Ç –≤–∏–¥–∂–µ—Ç—ã —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–∂–µ—Ç"
- –í–∏–¥–∂–µ—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ iframe –∫–∞—Ä—Ç–æ—á–∫–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏

### 6. **Event System**
- 50+ —Å–æ–±—ã—Ç–∏–π (user, menu, widget, data, auth, payment, –∏ —Ç.–¥.)
- –ü–ª–∞–≥–∏–Ω—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è
- –ü–æ–ª–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

---

## üí∞ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏

### –í—Ä–µ–º—è
- **–ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è:** 16-20 –Ω–µ–¥–µ–ª—å (~4-5 –º–µ—Å—è—Ü–µ–≤)
- **MVP:** 10-12 –Ω–µ–¥–µ–ª—å (~2.5-3 –º–µ—Å—è—Ü–∞)

### –ö–æ–º–∞–Ω–¥–∞
- 2 Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- 2 Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- 1 DevOps (—á–∞—Å—Ç–∏—á–Ω–æ)

---

## üìÖ 6 —Ñ–∞–∑ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

| –§–∞–∑–∞ | –ù–µ–¥–µ–ª–∏ | –ß—Ç–æ –¥–µ–ª–∞–µ–º |
|------|--------|------------|
| **1. Backend Event System** | 1-5 | Event Bus, Plugin Registry, –ó–∞–≥—Ä—É–∑–∫–∞ .zip |
| **2. Frontend –†–∞—Å—à–∏—Ä–µ–Ω–∏—è** | 6-9 | –ú–µ–Ω–µ–¥–∂–µ—Ä, –ü–ª–∞–≥–∏–Ω—ã, –í–∏–¥–∂–µ—Ç—ã (UI) |
| **3. Frontend –ú–µ–Ω—é** | 10-12 | –í—ã–±–æ—Ä –ø–ª–∞–≥–∏–Ω–∞, –ê–≤—Ç–æ–ø—É—Ç–∏, Drag&Drop |
| **4. Frontend –ü—Ä–æ—Ñ–∏–ª—å** | 13-15 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞–º–∏, –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ iframe |
| **5. Backend –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** | 16-18 | –•—É–∫–∏ –≤ –∫–æ–¥, –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–æ–≤ |
| **6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | 19-20 | Guide, –ü—Ä–∏–º–µ—Ä—ã, API Reference |

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
- –ó–∞–≥—Ä—É–∂–∞—é—Ç .zip –ø–ª–∞–≥–∏–Ω–æ–≤ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
- –£–ø—Ä–∞–≤–ª—è—é—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏ (–≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å)
- –î–æ–±–∞–≤–ª—è—é—Ç –ø–ª–∞–≥–∏–Ω—ã –≤ –º–µ–Ω—é (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç –≤–∏–¥–∂–µ—Ç—ã –≤ –ø—Ä–æ—Ñ–∏–ª–µ

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø–ª–∞–≥–∏–Ω–æ–≤:
- –°–æ–∑–¥–∞—é—Ç –ø–ª–∞–≥–∏–Ω—ã —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
- –ü–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ 50+ —Å–æ–±—ã—Ç–∏–π —Å–∏—Å—Ç–µ–º—ã
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç UI (iframe/embedded/external)
- –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ .zip —Ñ–∞–π–ª–∞

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- –í–∏–¥—è—Ç –Ω–æ–≤—ã–µ –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é (–ø–ª–∞–≥–∏–Ω—ã)
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç –≤–∏–¥–∂–µ—Ç—ã –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `extensions` - –≤—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–ø–ª–∞–≥–∏–Ω—ã + –≤–∏–¥–∂–µ—Ç—ã)
- `menu_item_plugins` - —Å–≤—è–∑—å –º–µ–Ω—é ‚Üî –ø–ª–∞–≥–∏–Ω
- `profile_widgets` - –≤–∏–¥–∂–µ—Ç—ã –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- `event_logs` - –ª–æ–≥–∏ —Å–æ–±—ã—Ç–∏–π (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

### API Endpoints
```
POST   /api/admin/extensions/upload        # –ó–∞–≥—Ä—É–∑–∫–∞ .zip
GET    /api/admin/extensions                # –°–ø–∏—Å–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
POST   /api/admin/extensions/:id/enable    # –í–∫–ª—é—á–∏—Ç—å
POST   /api/admin/extensions/:id/disable   # –í—ã–∫–ª—é—á–∏—Ç—å
DELETE /api/admin/extensions/:id           # –£–¥–∞–ª–∏—Ç—å
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–ª–∞–≥–∏–Ω–∞
```
my-plugin.zip
‚îú‚îÄ‚îÄ manifest.json      # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ plugin.ts         # –ö–æ–¥ –ø–ª–∞–≥–∏–Ω–∞
‚îú‚îÄ‚îÄ package.json      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ frontend/         # UI (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
    ‚îî‚îÄ‚îÄ index.html
```

---

## üéØ –ü—Ä–∏–º–µ—Ä: Analytics Plugin

### manifest.json
```json
{
  "slug": "analytics-dashboard",
  "name": "Analytics Dashboard",
  "version": "1.0.0",
  "extensionType": "menu_item",
  "ui": {
    "enabled": true,
    "type": "embedded",
    "path": "/analytics",
    "label": "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞",
    "icon": "chart-bar"
  },
  "events": {
    "subscribes": ["user.login", "data.created"]
  }
}
```

### plugin.ts
```typescript
export default class AnalyticsPlugin extends Plugin {
  registerEventHandlers() {
    // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –ª–æ–≥–∏–Ω—ã
    this.on('user.login', async (event) => {
      await this.trackLogin(event.data);
    });
    
    // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
    this.on('data.created', async (event) => {
      await this.trackDataCreate(event.data);
    });
  }
  
  // API endpoint
  @Get('/stats')
  async getStats() {
    return this.analytics.getAggregatedStats();
  }
}
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç .zip
2. –ü–ª–∞–≥–∏–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. –í –∞–¥–º–∏–Ω–∫–µ: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ–Ω—é ‚Üí –î–æ–±–∞–≤–∏—Ç—å –ø—É–Ω–∫—Ç ‚Üí –í—ã–±—Ä–∞—Ç—å "Analytics"
4. –ü—É–Ω–∫—Ç "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞" –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –º–µ–Ω—é
5. –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è UI –ø–ª–∞–≥–∏–Ω–∞ (`/ru/analytics`)
6. Backend –ø–ª–∞–≥–∏–Ω–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è `user.login` –∏ `data.created`
7. UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —á–µ—Ä–µ–∑ API `/api/plugins/analytics/stats`

---

## üö¶ –†–∏—Å–∫–∏

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|-----------|
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–ª–∞–≥–∏–Ω–æ–≤ | –°—Ä–µ–¥–Ω—è—è | –í–∞–ª–∏–¥–∞—Ü–∏—è .zip, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ù–∏–∑–∫–∞—è | Lazy loading, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Event Bus |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ | –°—Ä–µ–¥–Ω—è—è | –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –ø—Ä–∏–º–µ—Ä—ã |
| –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å | –ù–∏–∑–∫–∞—è | –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–ª–∞–≥–∏–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∏–≥—Ä–∏—Ä—É—é—Ç—Å—è |

---

## üí° MVP (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ)

**Scope (10-12 –Ω–µ–¥–µ–ª—å):**
- ‚úÖ Event System
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ .zip
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∏—è UI (–º–µ–Ω–µ–¥–∂–µ—Ä, –ø–ª–∞–≥–∏–Ω—ã, –≤–∏–¥–∂–µ—Ç—ã)
- ‚ö†Ô∏è –ú–µ–Ω—é - —É–ø—Ä–æ—â–µ–Ω–Ω–æ–µ (–±–µ–∑ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ drag&drop)
- ‚ùå –í–∏–¥–∂–µ—Ç—ã –≤ –ø—Ä–æ—Ñ–∏–ª–µ - –æ—Ç–ª–æ–∂–∏—Ç—å
- ‚ö†Ô∏è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç MVP:**
- –ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –ø–ª–∞–≥–∏–Ω—ã
- –ü–ª–∞–≥–∏–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Å–æ–±—ã—Ç–∏—è
- –ü–ª–∞–≥–∏–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –º–µ–Ω—é
- 70% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ Joomla

---

## ‚úçÔ∏è –†–µ—à–µ–Ω–∏–µ

**[ ] –û–¥–æ–±—Ä–∏—Ç—å –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é (16-20 –Ω–µ–¥–µ–ª—å)**  
**[ ] –û–¥–æ–±—Ä–∏—Ç—å MVP (10-12 –Ω–µ–¥–µ–ª—å)**  
**[ ] –¢—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**

---

**–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ:** 29 –Ω–æ—è–±—Ä—è 2024  
**–ê–≤—Ç–æ—Ä:** Development Team  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

